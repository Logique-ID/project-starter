<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session b1a8e313-af3b-49e0-af2a-12cd7a958993 (2026-01-14 08:41Z) -->

# Project detailed summary (2026-01-14 08:41Z)

_**User (2026-01-14 07:24Z)**_

summary with detail this project

---

_**Agent (model default, mode Ask)**_



---


Reviewing key files to understand the project structure and purpose.


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: /Users/cirimin/Logique/Project Starter/project-starter/README.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: /Users/cirimin/Logique/Project Starter/project-starter/mason.yaml</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: /Users/cirimin/Logique/Project Starter/project-starter/src/README.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: /Users/cirimin/Logique/Project Starter/project-starter/src/brick.yaml</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: /Users/cirimin/Logique/Project Starter/project-starter/scripts/README.md</summary>

</details>
</tool-use>

---



---


Reviewing hooks and key configuration files:


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: /Users/cirimin/Logique/Project Starter/project-starter/src/hooks/pre_gen.dart</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: /Users/cirimin/Logique/Project Starter/project-starter/src/hooks/post_gen.dart</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: /Users/cirimin/Logique/Project Starter/project-starter/src/CHANGELOG.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: /Users/cirimin/Logique/Project Starter/project-starter/ref/project-starter-ref/pubspec.yaml</summary>

</details>
</tool-use>

---



---


Checking a sync script to understand the template synchronization system:


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: /Users/cirimin/Logique/Project Starter/project-starter/scripts/sync-template.dart</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="list_dir">
<details>
            <summary>Tool use: **list_dir** • Listed directory, 0 results</summary>
        
No results found
</details>
</tool-use>

---



---


## Project Summary: Flutter Project Starter (Mason Brick)

### Overview
A Mason brick that scaffolds production-ready Flutter apps with multi-environment flavors, Firebase, Riverpod, and modern tooling. It generates a complete project structure from templates using Mustache variables.

---

### Core Purpose
- Template system: Uses Mason to generate Flutter projects from templates
- Reference-based: Maintains a reference project (`ref/project-starter-ref/`) that serves as the source of truth
- Smart sync: Automated sync scripts update templates from the reference while preserving Mason variable conditions

---

### Architecture

#### 1. Mason Brick Structure
```
project-starter/
├── src/                          # Brick source code
│   ├── __brick__/               # Template files (Mustache syntax)
│   │   └── {{project_name}}/   # Generated project structure
│   ├── hooks/                   # Pre/post generation hooks
│   │   ├── pre_gen.dart         # Prompts for Firebase ID, icons, splash
│   │   ├── post_gen.dart        # Auto-setup (Kotlin dirs, FlutterFire, icons)
│   │   └── helper.dart          # Hook utilities
│   ├── brick.yaml               # Brick configuration & variables
│   └── README.md                # Brick documentation
├── ref/                         # Reference project (source of truth)
│   └── project-starter-ref/     # Complete working Flutter app
├── scripts/                     # Template synchronization system
│   ├── sync-template.dart       # Main sync orchestrator
│   ├── sync-template_merger.dart    # Smart merge preserving Mason vars
│   ├── sync-template_parser.dart    # Parses Mason variable blocks
│   ├── sync-template_mapper.dart    # Path/content transformations
│   ├── sync-template_impact.dart    # Impact analysis
│   └── sync-template_interactive.dart # Interactive file selection
└── mason.yaml                   # Local brick registry
```

#### 2. Template Synchronization System
- Purpose: Keeps templates in sync with the reference project
- Features:
  - Preserves Mason variable blocks (`{{#use_firebase}}...{{/use_firebase}}`)
  - Path transformations (`project-starter-ref` → `{{project_name}}`, `id.logique.trial` → `{{app_id}}`)
  - Whitespace-aware comparison
  - Impact analysis (dependency graph, affected files)
  - Interactive file selection
  - Dry-run mode

---

### Generated Project Features

#### Core Architecture
- Multi-environment flavors: Dev, Staging, Production
  - Separate entry points (`main_dev.dart`, `main_stg.dart`, `main_prod.dart`)
  - Flavor-specific Firebase configs
  - Separate bundle IDs per environment
- State management: Riverpod 3.0.3 with code generation
- Routing: GoRouter 17.0.0 with type-safe routes
- Local database: Sembast 3.8.5+2 with AES encryption
- HTTP client: Dio 5.9.0 with Alice debugging (optional)

#### Optional Features (Conditional)
1. Firebase (`use_firebase`)
   - Firebase Core 4.2.1
   - Firebase Messaging 16.0.4
   - FlutterFire CLI auto-configuration for all flavors
   - Local notifications via `flutter_local_notifications`

2. Localization (`use_localization`)
   - ARB-based localization (English & Indonesian)
   - Flutter's built-in l10n
   - Fallback: `StringHardcoded` extension when disabled

3. Dio HTTP Client (`use_dio`)
   - Dio with interceptors
   - Alice debugging inspector
   - Cancel token utilities
   - TODO comments for alternatives when disabled

4. Splash Screen (`use_splash`)
   - Native splash via `flutter_native_splash`
   - Android 12+ support

#### UI & Design
- Responsive: Flutter ScreenUtil 5.9.3
- Custom launcher icons: iOS light/dark support
- Google Fonts 6.3.2
- SVG support: `flutter_svg` 2.2.2
- Material Design theming with custom colors/text themes

#### Forms & Validation
- `flutter_form_builder` 10.2.0
- `form_builder_validators` 11.2.0
- Pre-built custom text form field widget

#### Project Structure
- Feature-based architecture:
  ```
  lib/src/
  ├── feature/          # Feature modules (auth, login, home, etc.)
  ├── common_widget/    # Reusable UI components
  ├── constant/         # App constants & error messages
  ├── core/             # Core mixins (router, startup, localization)
  ├── routing/          # GoRouter configuration
  ├── service/          # Firebase & notification services
  ├── theme/            # App theming
  └── utils/            # Utilities & data source config
  ```

#### Included Features
- Authentication (repository with app user model)
- Login (controller, state, events)
- Main navigation with bottom nav bar (lazy-loaded indexed stack)
- Home, Berita, Kegiatan, Laporan, FAQ subscreens

---

### Template Variables

| Variable | Type | Description | Default |
|----------|------|-------------|---------|
| `project_name` | string | Project name (snake_case, used in pubspec.yaml) | `my_app` |
| `app_name` | string | Display name shown on device | `My App` |
| `app_id` | string | Bundle/application ID | `com.example.myapp` |
| `custom_icon` | boolean | Whether to use a custom app icon | `false` |
| `use_splash` | boolean | Implement native splash screen | `true` |
| `use_firebase` | boolean | Enable Firebase integration | `true` |
| `use_localization` | boolean | Enable localization support | `true` |
| `use_dio` | boolean | Enable Dio HTTP client with Alice | `true` |
| `firebase_project_id` | string | Firebase project ID (prompted if `use_firebase`) | - |
| `app_icon_path` | string | Path to custom icon (prompted if `custom_icon`) | - |
| `app_splash_path` | string | Path to splash image (prompted if `use_splash`) | - |

---

### Generation Process

#### Pre-Generation (`pre_gen.dart`)
1. Prompts for Firebase project ID (if `use_firebase` is enabled)
2. Prompts for custom app icon path (if `custom_icon` is true)
3. Prompts for splash image path (if `use_splash` is true)

#### Post-Generation (`post_gen.dart`)
1. Creates Kotlin package directory structure from `app_id`
2. Runs `flutterfire config` for all three flavors (if `use_firebase` is enabled)
3. Copies and generates launcher icons (if custom icon provided)
4. Creates native splash screen (if splash provided and `use_splash` is true)

---

### Usage

#### Installation
```bash
mason add starter --git-url https://github.com/Logique-ID/project-starter.git --git-path src
```

#### Generate Project
```bash
mason make starter
```

#### Non-Interactive Mode
```bash
mason make starter \
  --project_name awesome_app \
  --app_name "Awesome App" \
  --app_id com.mycompany.awesomeapp \
  --use_firebase true \
  --use_localization true \
  --use_dio true \
  --firebase_project_id your-firebase-project-id
```

---

### Development Workflow

#### Modifying the Brick
1. Edit reference project (`ref/project-starter-ref/`)
2. Run sync script to update templates:
   ```bash
   dart run scripts/sync-template.dart
   ```
3. Test changes:
   ```bash
   mason make starter --output-dir ./test_output
   ```

#### Sync Script Features
- `--dry-run` / `-n`: Preview changes without modifying files
- `--verbose` / `-v`: Detailed output for each file
- `--show-impact` / `--impact`: Preview which files will be affected
- `--interactive` / `-i`: Choose which files to sync
- `--path <path>`: Sync specific directory only

---

### Technical Details

#### Dependencies (from reference project)
- Flutter SDK: `>=3.38.0 <4.0.0`
- Dart SDK: `^3.8.1`
- State: `flutter_riverpod: 3.0.3`, `riverpod_annotation: 3.0.3`
- Routing: `go_router: 17.0.0`
- Database: `sembast: 3.8.5+2`, `encrypt: 5.0.3`
- HTTP: `dio: 5.9.0`, `alice_dio: ^1.0.7`
- Firebase: `firebase_core: 4.2.1`, `firebase_messaging: ^16.0.4`
- UI: `flutter_screenutil: 5.9.3`, `google_fonts: 6.3.2`
- Forms: `flutter_form_builder: ^10.2.0`
- Dev: `build_runner: 2.10.2`, `riverpod_generator: 3.0.3`, `flutter_flavorizr: 2.4.1`

#### Version History
- 0.1.4: Made Dio optional (`use_dio` variable)
- 0.1.3: Made localization optional (`use_localization` variable)
- 0.1.2: Made Firebase optional (`use_firebase` variable)
- 0.1.1: Made splash screen optional (`use_splash` variable)
- 0.1.0+1: Initial release

---

### Key Strengths
1. Modular: Optional features via template variables
2. Production-ready: Multi-environment flavors, Firebase, state management
3. Maintainable: Automated sync system keeps templates aligned with reference
4. Flexible: Conditional generation based on user choices
5. Complete: Includes authentication, routing, theming, and common widgets

This is a production-ready scaffolding tool for Flutter projects with a maintainable template system.

---

