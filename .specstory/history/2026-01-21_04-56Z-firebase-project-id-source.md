<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session 3bab2e6e-e65b-4fde-a93f-e57b9a64f6d9 (2026-01-21 04:56Z) -->

# Firebase project ID source (2026-01-21 04:56Z)

_**User**_

 @src/hooks/pre_gen.dart can firebase_project_id get value from arguments or config.json?

---

_**Agent (model MiniMax-M2.1, mode Ask)**_

<think>
The user is asking about the `pre_gen.dart` hook file, specifically whether `firebase_project_id` can get its value from arguments or config.json. Let me read the file to understand the current implementation.
</think>




---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: /Users/cirimin/Logique/Project Starter/project-starter/src/hooks/pre_gen.dart</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: /Users/cirimin/Logique/Project Starter/project-starter/config/config.json</summary>

</details>
</tool-use>

---

<think>
Let me analyze the user's question. They want to know if `firebase_project_id` can get its value from arguments or config.json instead of being prompted interactively.

Looking at the code in `pre_gen.dart`:
1. Currently, `firebase_project_id` is obtained through an interactive prompt (lines 9-13)
2. The `HookContext` has a `vars` property that contains arguments/variables

The user is asking if there's a way to get this value from:
1. Arguments passed to the hook
2. config.json file

For the Mason framework's HookContext, the `vars` property contains the variables passed to the brick generator. This would include:
- Variables from command line arguments
- Variables from mason.yaml or config.json
- Variables defined in the brick.yaml

So yes, it's possible to check if `firebase_project_id` is already provided in `context.vars` before prompting. If it's already there (from config.json or arguments), use it. Otherwise, prompt.

Let me provide a clear answer about this.
</think>

Yes, `firebase_project_id` can get its value from arguments or `config.json` instead of prompting interactively.

Looking at the current implementation in `pre_gen.dart:9-13`, the code always prompts for Firebase project ID when `use_firebase` is true:

```dart
final firebaseProjectId = context.logger.prompt(
  'Enter your Firebase project ID:',
  defaultValue: '',
);
context.vars['firebase_project_id'] = firebaseProjectId;
```

The `context.vars` property already contains variables passed to the generator from:
- **Command line arguments** when running `mason make`
- **Variables from `config.json`** when using `mason make --config config.json`
- **Variables defined in `mason.yaml`**

## Recommended Approach

You can modify the code to check if `firebase_project_id` already exists in `context.vars` before prompting:

```dart
final useFirebase = context.vars['use_firebase'] as bool? ?? false;
if (useFirebase) {
  // Check if firebase_project_id is already provided
  var firebaseProjectId = context.vars['firebase_project_id'] as String?;
  
  if (firebaseProjectId == null || firebaseProjectId.isEmpty) {
    // Only prompt if not already provided
    firebaseProjectId = context.logger.prompt(
      'Enter your Firebase project ID:',
      defaultValue: '',
    );
  }
  
  context.vars['firebase_project_id'] = firebaseProjectId;
}
```

This way:
- If `config.json` contains `"firebase_project_id": "my-project"`, it will use that value
- If running `mason make ... --variable firebase_project_id=my-project`, it will use that value
- Only if neither is provided will it prompt interactively

The same pattern can be applied to `sentry_dsn`, `mixpanel_token`, `app_icon_path`, and `app_splash_path`.

---

