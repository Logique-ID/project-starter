# Starter Brick

[![Powered by Mason](https://img.shields.io/endpoint?url=https%3A%2F%2Ftinyurl.com%2Fmason-badge)](https://github.com/felangel/mason)

A Flutter starter project brick with flavors (dev, stg, prod), Firebase, Riverpod, and more.

_Generated by [mason][1]_

## Features

- **Flavors**: Development, Staging, and Production environments
- **State Management**: Riverpod 3.0.3 with code generation
- **Routing**: GoRouter 17.0.0
- **Local Database**: Sembast with encryption
- **HTTP Client**: Dio with Alice debugging
- **Firebase**: Core, Messaging, and FlutterFire CLI configuration
- **Monitoring**: Sentry error tracking (optional) and Mixpanel analytics (optional)
- **Responsive Design**: Flutter ScreenUtil
- **Localization**: English and Indonesian
- **Custom Icons**: Optional custom app icon with auto-generation
- **Splash Screen**: Optional native splash screen
- **Security**: Application shielding and threat detection (FreeRASP)

## Usage

```bash
mason make starter
```

This will generate a project directory named after your `project_name` value (e.g., `my_app/`).

### Variables

| Variable | Type | Description | Default |
|----------|------|-------------|---------|
| `project_name` | string | Project name (snake_case, used in pubspec.yaml) | `my_app` |
| `app_name` | string | Display name shown on device | `My App` |
| `app_id` | string | Bundle/application ID (e.g., com.example.myapp) | `com.example.myapp` |
| `custom_icon` | boolean | Whether to use a custom app icon | `false` |
| `use_splash` | boolean | Implement native splash screen | `true` |
| `use_firebase` | boolean | Implement Firebase | `true` |
| `use_localization` | boolean | Implement localization | `true` |
| `use_dio` | boolean | Implement Dio with Alice debugging | `true` |
| `use_sentry` | boolean | Implement Sentry error tracking | `false` |
| `use_mixpanel` | boolean | Implement Mixpanel analytics | `false` |
| `detect_passcode` | boolean | Implement passcode detection | `true` |
| `detect_vpn` | boolean | Implement VPN detection | `true` |
| `detect_screenshots` | boolean | Implement screenshots detection | `true` |
| `detect_screenrecord` | boolean | Implement screen record detection | `true` |

### Additional Prompts

During generation, you'll also be asked for:

- **Firebase Project ID**: Required for FlutterFire configuration
- **Custom Icon Path**: Path to your icon file (if `custom_icon` is true)
- **Splash Image Path**: Path to your splash image (if `use_splash` is true)

## What Happens During Generation

### Pre-Generation (pre_gen.dart)

1. Prompts for Firebase project ID
2. If `custom_icon` is true, prompts for icon file path
3. If `use_splash` is true, prompts for splash image path

### Post-Generation (post_gen.dart)

1. Creates Kotlin package directory structure from `app_id`
2. Runs `flutterfire config` for all three flavors (dev, stg, prod)
3. If custom icon provided:
   - Copies to appropriate asset locations
   - Runs `flutter_launcher_icons` to generate all sizes
4. If splash provided:
   - Copies splash image to assets
   - Runs `flutter_native_splash:create`

## Post-Generation Steps

Most setup is automated, but you may need to:

1. **Get dependencies**:
   ```bash
   flutter pub get
   ```

2. **Generate code**:
   ```bash
   dart run build_runner build --delete-conflicting-outputs
   ```

3. **Run the app**:
   ```bash
   flutter run --flavor dev -t lib/main_dev.dart
   ```

## Resources

- [Official Mason Documentation][2]
- [Code generation with Mason Blog][3]
- [FlutterFire Documentation](https://firebase.flutter.dev)

[1]: https://github.com/felangel/mason
[2]: https://docs.brickhub.dev
[3]: https://verygood.ventures/blog/code-generation-with-mason
